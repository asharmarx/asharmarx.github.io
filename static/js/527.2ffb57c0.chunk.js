"use strict";(self.webpackChunkaman_website=self.webpackChunkaman_website||[]).push([[527],{527:function(e,t,i){i.r(t),i.d(t,{default:function(){return S}});var n=i(885),s=i(2791),r=i(2982),a=i(184),c=(0,s.createContext)(),l=function(e){var t=e.children,i=function(){var e=JSON.parse(localStorage.getItem("cityData")||"[]"),t=(0,s.useState)(e),i=(0,n.Z)(t,2),a=i[0],c=i[1],l=(0,s.useState)(!1),o=(0,n.Z)(l,2),u=o[0],h=o[1];return{cityData:a,cityAlreadyThere:u,cityDataIs:function(e){return new Promise((function(t){c((function(t){return t.some((function(t){return t.cityName===e.cityName}))?(h(!0),setTimeout((function(){h(!1)}),1e3),(0,r.Z)(t)):(localStorage.setItem("cityData",JSON.stringify([].concat((0,r.Z)(t),[e]))),[].concat((0,r.Z)(t),[e]))})),t()}))},cityDataIsNot:function(e){return new Promise((function(t){c((function(t){var i=t.filter((function(t){return t.cityName!==e}));return localStorage.setItem("cityData",JSON.stringify(i)),i})),t()}))}}}();return(0,a.jsx)(c.Provider,{value:i,children:t})},o=function(){return(0,s.useContext)(c)},u=function(){var e=(0,s.useState)(""),t=(0,n.Z)(e,2),i=t[0],r=t[1],c=(0,s.useState)(!0),l=(0,n.Z)(c,2),u=l[0],h=l[1],d=o(),m=d.cityDataIs,f=d.cityAlreadyThere,y=function(){var e="Enter 5-Digit US Zip";return u?f?(e="Weather Info Already Present",(0,a.jsxs)("h1",{children:["\ud83c\udf1e ",e," \ud83c\udf1e"]})):(0,a.jsx)("h1",{children:e}):(e="Invalid Zip",(0,a.jsxs)("h1",{children:["\ud83c\udf27\ufe0f ",e," \ud83c\udf27\ufe0f"]}))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y,{}),(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r("");var t="https://api.openweathermap.org/geo/1.0/zip?zip=".concat(i,",us&appid=e203317f0df5474c05874e35b030eda3");fetch(t).then((function(e){if(e.ok)return e.json()})).then((function(e){var t=e.name,i=e.lat,n=e.lon;m({cityName:t,cityLat:i,cityLon:n})})).catch((function(e){console.error(e),r(""),h(!1),setTimeout((function(){h(!0)}),1e3)}))},autoComplete:"off",children:[(0,a.jsx)("input",{autoFocus:!0,maxLength:5,type:"text",value:i,onChange:function(e){var t=e.target.value;/^[0-9]*$/.test(t)&&r(t)}}),(0,a.jsx)("button",{type:"submit",children:"Get Weather!"})]})]})},h="styles_zipInputWrapper__VFSWa",d=function(){return(0,a.jsx)("div",{className:h,children:(0,a.jsx)(u,{})})},m="styles_whetherWrapper__YtYgw",f="styles_whetherTileWrapper__d44Kt",y="styles_whetherDetails__Q3sPY",p="styles_whetherDetailsTemp__t5AUz",x="styles_whetherDetailsSummary__kRS69",v="styles_whetherImage__5sb7H",g="styles_whetherExtraDetails__kdTUJ",j="styles_whetherTileRemover__Ws0us",w=function(e){var t=e.city,i=(0,s.useState)(""),r=(0,n.Z)(i,2),c=r[0],l=r[1],u=(0,s.useState)(""),h=(0,n.Z)(u,2),d=h[0],m=h[1],w=(0,s.useState)(""),_=(0,n.Z)(w,2),S=_[0],N=_[1],b=(0,s.useState)(""),I=(0,n.Z)(b,2),Z=I[0],D=I[1],k=(0,s.useState)(""),T=(0,n.Z)(k,2),W=T[0],C=T[1],F=(0,s.useState)(""),L=(0,n.Z)(F,2),P=L[0],z=L[1],A=(0,s.useState)(""),J=(0,n.Z)(A,2),E=J[0],O=J[1],U=t.cityName,Y=t.cityLat,H=t.cityLon,R=o().cityDataIsNot;(0,s.useEffect)((function(){!function(){var e="https://api.openweathermap.org/data/2.5/weather?lat=".concat(Y,"&lon=").concat(H,"&exclude=minutely,hourly,daily,alerts&units=imperial&appid=e203317f0df5474c05874e35b030eda3");fetch(e).then((function(e){if(e.ok)return e.json()})).then((function(e){l(Math.round(e.main.temp)),m(e.weather[0].description),N(U),D(e.main.humidity),C(e.visibility/1e3),z(e.wind.speed),O(e.weather[0].icon)})).catch((function(e){return console.error(e)}))}()}),[]);return(0,a.jsxs)("div",{className:f,children:[(0,a.jsx)("button",{className:j,onClick:function(){return e=U,console.log("ctd:",e),void R(e);var e},children:"X"}),(0,a.jsxs)("div",{className:y,children:[(0,a.jsxs)("div",{className:p,children:[c,(0,a.jsx)("span",{children:"\xb0"})]}),(0,a.jsxs)("div",{className:x,children:[(0,a.jsx)("div",{children:d}),(0,a.jsx)("div",{style:{fontWeight:800,marginTop:"0.5rem"},children:S})]})]}),(0,a.jsx)("img",{className:v,alt:"weatherImg",src:"".concat(E,".svg")}),(0,a.jsxs)("div",{className:g,children:[(0,a.jsxs)("div",{style:{display:"flex",flexFlow:"row",alignItems:"center",gap:"0.2rem"},children:[(0,a.jsx)("img",{alt:"humidityImg",src:"humidity.svg",style:{width:"10%",height:"10%"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Humidity"}),"  ",Z,"%"]})]}),(0,a.jsxs)("div",{style:{display:"flex",flexFlow:"row",alignItems:"center",gap:"0.2rem"},children:[(0,a.jsx)("img",{alt:"visibilityImg",src:"visibility.svg",style:{width:"10%",height:"10% "}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Visibility"}),"  ",W]})]}),(0,a.jsxs)("div",{style:{display:"flex",flexFlow:"row",alignItems:"center",gap:"0.2rem"},children:[(0,a.jsx)("img",{alt:"windSpeedImg",src:"wind.svg",style:{width:"10%",height:"10% "}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("b",{children:"Wind Speed"}),"  ",P," mph"]})]})]})]})},_=function(){var e=o().cityData;return e?e&&0===e.length?null:(0,a.jsx)("div",{className:m,children:e.map((function(e){return(0,a.jsx)(w,{city:e},e.cityName)}))}):null},S=function(){return(0,a.jsxs)(l,{children:[(0,a.jsx)(d,{}),(0,a.jsx)(_,{})]})}}}]);
//# sourceMappingURL=527.2ffb57c0.chunk.js.map